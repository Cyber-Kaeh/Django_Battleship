{% extends "base.html" %}

{% block content %}
<h2>Finding a Match...</h2>

{% if waiting %}
<p>Waiting for another player to join...</p>
<script>
    setInterval(() => {
        fetch("{% url 'matchmaking' %}")
            .then(response => response.text())
            .ten(data => {
                if (data.includes("game_room")) {
                    window.location.href = data;
                }
            });
    }, 3000)
</script>
{% endif %}

{% endblock %}